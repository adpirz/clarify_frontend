language: node_js
node_js:
- 9
cache:
  directories:
  - node_modules
  yarn: true
install:
- npm install
- npm i aws-sdk
script:
- npm run build
deploy:
  provider: s3
  bucket: clarify.school
  local_dir: build
  region: us-west-1
  skip_cleanup: true
  secret_access_key:
    secure: akEjOdKtB/XHxZvpm8hR4TIyE9Iliqa9cOXdVWAuddYcRiEqd0mE67sDuBWWraCXFkZdXDmfA+uKXS6xYpvSBtHASniiveNxNaNq8dlbHZZOD2A8qbrNz5rdjl/gPk2wWnelM0LviF/Iq1/al1rUWkTW5YRhvon8MRekMR5QtclH6fe7XwXRc996ne6/ALk+khHoedBYjdp0Lu0DeKngtVPOTNE7NbDzWftlZtfL8A0UHmwKb3kA0hDr5S5XlfljxTsS3Z2MsxJuy/p2UkVhA0ab5FfCOHuZZszEFEDbYb5JVzjFbo0BbxpnpWbORVsvacvaVGJro+dIVQg2TbavNN6CRxUoosorSfljkr55bDIowNRsh3LEJruUv56GeGEJQ/5Qzvqve/hIYOhKAMc8gLhpZddT+QdMmW+IWKyylSiBVQmjhZLxb9ZEPElkFmPFIXtje9eTdYmjlcCbjOHXeTr5sYAZ8meC0dDaK+Tk7qZTvwrgn90/yBaFlulKxvpAN+ZQUd24y8gySpoyQGyZXomyH4QrUi6369/pHXMv9FFJ2r7TSIJ4q5dVGVAz3m0nfvt3LqXLR58yjdyXM3CieRsZ+mg5i4oojVhZc8WPXYSh02exazEWMdhWjZ+LmPC9uwd8lXgD50yaOIHWoVsfCEhpSMArHwCiw0k/qhyIoz8=
  access_key_id:
    secure: iVoqrlBPA4Bp5yGe6X4YEA3nMuzScmlOJR9WAa8C1MxBZ1xE88e5nacrAgJaTHv2r73oyjv6uqT8ds9z621BQgVmK45ROnNXhUH9QH5m62V2hvBksfSV/l37c3drZL5oWo92mGUKJawt0cfxrLs9Llx/dVRPj//yG1NXjbxSyQhwPaIqzNVPhTXlWFsGOzLBbaz6kzVdBiPGJJsJu5jn/c6yAoM7d4OVsq6q/gNYifnrSLdvl/6Ub5JWGqZVTzJPYfV+akuaWkHKbEBIz8TVdf9mQnbWFSCi1kXO4kWPChBNV15+iGDCuTbwanZGh1BVylWO+CASPY4RlO0/oLf45tSsfiY40hIyID4sMcw4vp8KYStDlIRg/02SlYBGwZDgHVWjnApjC9kSyP8ON2FUn7/xepDQItqkfBXNa3HRBV41ktmPqhbTqlu+BqcSG/Ik7uBRKz/AqalyqpMfQRZVX7Ujn2Muf60LNnR500PIECy/o2uMvnxGNaCgbTTctnyAMdXU0qLKffnD/lqf4ZQrkhQ3ZuWUrTHVol83Yyu3P4M0fFbgAofd40J6ZrhIZHVgtu4ZPyb9ehVIm1+HidZP/QBnpe4dQaPqwccl7JvnCQ6TJmgwlsKgB5WnoUIwstmuRs+Lq+UG0JQL8MuKpZxzUAHCQrTrxuXsxECZdMcNxR4=
  provider: s3
  bucket: demo.clarify.school
  local_dir: build
  region: us-east-1
  skip_cleanup: true
  secret_access_key:
    secure: akEjOdKtB/XHxZvpm8hR4TIyE9Iliqa9cOXdVWAuddYcRiEqd0mE67sDuBWWraCXFkZdXDmfA+uKXS6xYpvSBtHASniiveNxNaNq8dlbHZZOD2A8qbrNz5rdjl/gPk2wWnelM0LviF/Iq1/al1rUWkTW5YRhvon8MRekMR5QtclH6fe7XwXRc996ne6/ALk+khHoedBYjdp0Lu0DeKngtVPOTNE7NbDzWftlZtfL8A0UHmwKb3kA0hDr5S5XlfljxTsS3Z2MsxJuy/p2UkVhA0ab5FfCOHuZZszEFEDbYb5JVzjFbo0BbxpnpWbORVsvacvaVGJro+dIVQg2TbavNN6CRxUoosorSfljkr55bDIowNRsh3LEJruUv56GeGEJQ/5Qzvqve/hIYOhKAMc8gLhpZddT+QdMmW+IWKyylSiBVQmjhZLxb9ZEPElkFmPFIXtje9eTdYmjlcCbjOHXeTr5sYAZ8meC0dDaK+Tk7qZTvwrgn90/yBaFlulKxvpAN+ZQUd24y8gySpoyQGyZXomyH4QrUi6369/pHXMv9FFJ2r7TSIJ4q5dVGVAz3m0nfvt3LqXLR58yjdyXM3CieRsZ+mg5i4oojVhZc8WPXYSh02exazEWMdhWjZ+LmPC9uwd8lXgD50yaOIHWoVsfCEhpSMArHwCiw0k/qhyIoz8=
  access_key_id:
    secure: iVoqrlBPA4Bp5yGe6X4YEA3nMuzScmlOJR9WAa8C1MxBZ1xE88e5nacrAgJaTHv2r73oyjv6uqT8ds9z621BQgVmK45ROnNXhUH9QH5m62V2hvBksfSV/l37c3drZL5oWo92mGUKJawt0cfxrLs9Llx/dVRPj//yG1NXjbxSyQhwPaIqzNVPhTXlWFsGOzLBbaz6kzVdBiPGJJsJu5jn/c6yAoM7d4OVsq6q/gNYifnrSLdvl/6Ub5JWGqZVTzJPYfV+akuaWkHKbEBIz8TVdf9mQnbWFSCi1kXO4kWPChBNV15+iGDCuTbwanZGh1BVylWO+CASPY4RlO0/oLf45tSsfiY40hIyID4sMcw4vp8KYStDlIRg/02SlYBGwZDgHVWjnApjC9kSyP8ON2FUn7/xepDQItqkfBXNa3HRBV41ktmPqhbTqlu+BqcSG/Ik7uBRKz/AqalyqpMfQRZVX7Ujn2Muf60LNnR500PIECy/o2uMvnxGNaCgbTTctnyAMdXU0qLKffnD/lqf4ZQrkhQ3ZuWUrTHVol83Yyu3P4M0fFbgAofd40J6ZrhIZHVgtu4ZPyb9ehVIm1+HidZP/QBnpe4dQaPqwccl7JvnCQ6TJmgwlsKgB5WnoUIwstmuRs+Lq+UG0JQL8MuKpZxzUAHCQrTrxuXsxECZdMcNxR4=
after_deploy:
- npm run travis_after_deploy
env:
  global:
  - secure: KhrQiD3jV0FbKpouDS3Rs8N7S2lV1M7tSAwiA3/TiYPKyg9gYyjOm/Wit7ebH+qdH+VIHJHgxL0TLIN/mtbPJo1NBFldDbJQTLCrKYR3sqmqr10qvUON5O8RKT74jPt4Xep9D3pHa5FJSEJbhmGsxyCrufUJHSCP8S/yDZ/7XJx5qqugb6ls8PcZd3pZkZanQJXOEfLnleoZmqr0Rv4yFQXIeXsrQI8F8K+VwGKdRGYbgaqWRFMxdvc0iAPuMEYQ5Mv8817sQrJRx6vgqBIWAgMniHn6PKAsPkQ/LIHwFO664V9L7X+87cF0oGTCgGRd53jQ7oxNiFRJzbAVKrD+N75kiyGrtNFUxoZsPhhi2rff43wRuitrmzVw+EXmWMpnTnn2OxjuIUSrI1SizWPXj2xwfpqRhPKOz68tZkRYbaOne1tsEvSOv8SLfTJKrlAHmdaRWSykpTIQ/rBOs/gy7FaHJOFy1QuP4Y6wzkh24HvcFMJuAqknqvcgDrXKaV0IExoE0oYdQqMH+7edmbnQ23ZhUBGvjiOmxbk8LpncF79NCYu6U4f54MIoHsH4gHvHYCqE0vEsjypw6GCFo7nYRiMSOF4a7Mlm9Fq+dJENIfSyiFgOQFH3J9Q1begi34zqRv+HcKEDDieimgNPel94EvFzKlmcUT7UwQNIJc0tNKc=
  - secure: b6XRK2CE3o1Y2ObvZ2SnJdBQgqkUJrh79BeSkjaeL7BBojVi95u2n8STUpcHvCRqBDMFir2e/kLleB2PGKBC41Osw98NxZM1QfYTU+3UzfU65qxDfIGqSRSYIpHpggPhZhXAIMDUdHOD0qCyL48heWMz5/081zZVH9XV19ynMGtZfqWBsyUbFwg3bWDNHBLfl7T13UjovxbNmPgXStYIj5KMdddA1hk528hnr3o/Hnd8ihMNqSlrU6QyeHSrK4LbpyeFveamGF8vwS0nQ8byD00gTJpHkQD2GEiXYjDZUcA/AX6MTKDGfiTEEYyJkyOzPjswosGAvKBtOrUcX88Ma38v8o8bPqtD4JfGLJIw9cTaoBpDJ+ccxjpMg2T1Bt3uRJzg+E3seIvwjrXPFZfZ+hozTd3OCGC75Rz6gkRf1TdOzIg7314I5TchwRXtV1TFlfON8KdeUxAAx0eMgiqGb+34koX3Af+GUK1RPvC+EcGIYjRDmsIUuuc7tHr5ousE94iDyP4h3V6hDNQQWzNQOr5QLosrgxWKsnDi5OQKCByQEL4GrmosNWyyCl8dEgsCK+hL1eWLZIej18wU7u2ZmFNGkJY3MIehoBVFWeWK9zXlTR1/BjvT3wW2/6p30WlXXGMGkz831xnfV6nsPnrnuRlae+wLZ4SEj5mmNhR/wqU=
  - secure: fHW0EUbTjYYJ+OVTg5H2NAtrVh/pveI5tW6xMPCyJG8mFq77MeKI2eQawfL29vciAevka0c11IP8xQEqLML/xn6XT3S8b7exFanoeygGxvc9gDn0fOEkEIILMlfFIV/qQKpuK/XEJtPBKJaxdeOK5XILCaUWkrZ6IcpNhpTFpKqC3aGJt3wEVpqc2AIud+94LVscrRI/WSyl/uOyMqU20A3bEtuutyqGKuaZNdJAq4UpXGFJHHiLBeQsIXoI7LKQ/KJtg5gzbFCuvmTeDXVS8wBc7R77Yt7y1WRMiOShSNkLEbESNR70E5bt1J4Ce0QuJpwJQmwE6QTWeD8flnM4FkZvJicAT4+4mfiT/7GocFQHS9eMcf56CguiF9dyEdN9l2gOVEZsSKMDInNll7XO3z0glrh2AY1tEuBJ+E9Mt2BiLIPnaRhoeuIcsMydGgSt69PCUhi6S6Iatpzdhthl7POGoYp5W0gJxdt3or9rp2OFjypcbrL6Z++PRxWKYYQ6ikEEGbRf4sWcfwyTJNJkr2VMPnCQVcreTmWk75FvRnmHV9kKv/xI0VCTBKKPKRVG4GVXW9G/S/C0OieVPxpj9itlqbUR2aMEoz/+wCHtrbohOU8zM/jGWhBG8NK2RvaKdNLnaXUTwERSCaBk6MAHrwMb6R5tM3gucDV4IvSYNuM=
